UUI.BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var img=params.img,msg=params.msg,spacing=params.spacing===undefined?0:params.spacing,href=params.href,target=params.target,style=params.style,onTap=params.onTap,onMouseover=params.onMouseover,onMouseout=params.onMouseout,a,span,setMsg,getImg,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addStyle,show,hide,checkIsShow,tap;a=A({style:{display:"block",textAlign:"center",cursor:"pointer",textDecoration:"none"},href:href,target:target});if(msg!==undefined){a.prepend(DIV({childs:[span=SPAN({childs:[msg===undefined?"":msg]})]}))}if(img!==undefined){a.prepend(DIV({style:{marginBottom:msg!==undefined?spacing:0},childs:[img]}))}if(onTap!==undefined){EVENT({node:a,name:"tap"},function(e){onTap(e,self)})}if(onMouseover!==undefined){EVENT({node:a,name:"mouseover"},function(e){onMouseover(e,self)})}if(onMouseout!==undefined){EVENT({node:a,name:"mouseout"},function(e){onMouseout(e,self)})}self.setMsg=setMsg=function(msg){span.removeAllChilds();span.append(msg)};self.getImg=getImg=function(){return img};self.getDom=getDom=function(){return a};self.append=append=function(node){a.append(node)};self.appendTo=appendTo=function(node){node.append(a);return self};self.prepend=prepend=function(node){a.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(a);return self};self.after=after=function(node){a.after(node)};self.insertAfter=insertAfter=function(node){node.after(a);return self};self.before=before=function(node){a.before(node)};self.insertBefore=insertBefore=function(node){node.before(a);return self};self.remove=remove=function(){a.remove()};self.removeAllChilds=removeAllChilds=function(){a.removeAllChilds()};self.getParent=getParent=function(){return a.getParent()};self.setParent=setParent=function(parent){a.setParent(parent)};self.getChilds=getChilds=function(){return a.getChilds()};self.addStyle=addStyle=function(style){a.addStyle(style)};if(style!==undefined){addStyle(style)}self.show=show=function(){a.show()};self.hide=hide=function(){a.hide()};self.checkIsShow=checkIsShow=function(){return a.checkIsShow()};self.tap=tap=function(){onTap()}}});UUI.BUTTON_H=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var img=params.img,msg=params.msg,spacing=params.spacing===undefined?0:params.spacing,href=params.href,target=params.target,style=params.style,onTap=params.onTap,onMouseover=params.onMouseover,onMouseout=params.onMouseout,a,span,evt,setMsg,getImg,msgDom,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addStyle,show,hide,checkIsShow,tap;a=A({style:{display:"block",cursor:"pointer",textDecoration:"none"},href:href,target:target,childs:[msgDom=DIV({style:{flt:"left"},childs:[span=SPAN({childs:[msg===undefined?"":msg]})]}),CLEAR_BOTH()]});if(img!==undefined){img.addStyle({flt:"left"});if(img.getStyle("margin")===undefined&&img.getStyle("marginRight")===undefined){img.addStyle({marginRight:spacing})}a.prepend(img);evt=EVENT({node:img,name:"load"},function(e){msgDom.addStyle({marginTop:(img.getHeight()-msgDom.getHeight())/2});evt.remove()})}if(onTap!==undefined){EVENT({node:a,name:"tap"},function(e){onTap(e,self)})}if(onMouseover!==undefined){EVENT({node:a,name:"mouseover"},function(e){onMouseover(e,self)})}if(onMouseout!==undefined){EVENT({node:a,name:"mouseout"},function(e){onMouseout(e,self)})}self.setMsg=setMsg=function(msg){span.removeAllChilds();span.append(msg)};self.getImg=getImg=function(){return img};self.getDom=getDom=function(){return a};self.append=append=function(node){a.append(node)};self.appendTo=appendTo=function(node){node.append(a);return self};self.prepend=prepend=function(node){a.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(a);return self};self.after=after=function(node){a.after(node)};self.insertAfter=insertAfter=function(node){node.after(a);return self};self.before=before=function(node){a.before(node)};self.insertBefore=insertBefore=function(node){node.before(a);return self};self.remove=remove=function(){a.remove()};self.removeAllChilds=removeAllChilds=function(){a.removeAllChilds()};self.getParent=getParent=function(){return a.getParent()};self.setParent=setParent=function(parent){a.setParent(parent)};self.getChilds=getChilds=function(){return a.getChilds()};self.addStyle=addStyle=function(style){a.addStyle(style)};if(style!==undefined){addStyle(style)}self.show=show=function(){a.show()};self.hide=hide=function(){a.hide()};self.checkIsShow=checkIsShow=function(){return a.checkIsShow()};self.tap=tap=function(){onTap()}}});UUI.FULL_CHECKBOX=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var name=params.name,label=params.label,value=params.value,childs=params.childs,wrapperStyle=params.wrapperStyle,inputStyle=params.inputStyle,onChange=params.onChange,wrapper,input,button,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,getName,getValue,setValue,select,blur,addWrapperStyle,addInputStyle,addChangeValueProc,show,hide,checkIsShow;wrapper=DIV({style:{position:"relative"},childs:[input=INPUT({style:{flt:"left",marginRight:5},name:name,type:"checkbox",value:value}),button=UUI.TEXT_BUTTON({style:{flt:"left"},onTap:function(e){input.toggleCheck()},msg:label}),CLEAR_BOTH()]});wrapper.isValidWrapper=true;self.getDom=getDom=function(){return wrapper};self.append=append=function(node){wrapper.append(node)};if(childs!==undefined){EACH(childs,function(child,i){button.after(child)})}self.appendTo=appendTo=function(node){node.append(wrapper);return self};self.prepend=prepend=function(node){wrapper.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(wrapper);return self};self.after=after=function(node){wrapper.after(node)};self.insertAfter=insertAfter=function(node){node.after(wrapper);return self};self.before=before=function(node){wrapper.before(node)};self.insertBefore=insertBefore=function(node){node.before(wrapper);return self};self.remove=remove=function(){wrapper.remove()};self.removeAllChilds=removeAllChilds=function(){wrapper.removeAllChilds()};self.getParent=getParent=function(){return wrapper.getParent()};self.setParent=setParent=function(parent){wrapper.setParent(parent)};self.getChilds=getChilds=function(){return wrapper.getChilds()};self.getName=getName=function(){return name};self.getValue=getValue=function(){return input.getValue()};self.setValue=setValue=function(value){input.setValue(value)};self.select=select=function(){input.select()};self.blur=blur=function(){input.blur()};self.addWrapperStyle=addWrapperStyle=function(style){wrapper.addStyle(style)};if(wrapperStyle!==undefined){addWrapperStyle(wrapperStyle)}self.addInputStyle=addInputStyle=function(style){input.addStyle(style)};if(inputStyle!==undefined){addInputStyle(inputStyle)}self.addChangeValueProc=addChangeValueProc=function(proc){input.addChangeValueProc(proc)};if(onChange!==undefined){addChangeValueProc(onChange)}self.show=show=function(){wrapper.show()};self.hide=hide=function(){wrapper.hide()};self.checkIsShow=checkIsShow=function(){return wrapper.checkIsShow()}}});UUI.FULL_INPUT=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var name=params.name,type=params.type,placeholder=params.placeholder,value=params.value,wrapperStyle=params.wrapperStyle,inputStyle=params.inputStyle,onChange=params.onChange,placeholderStyle=COMBINE_DATA({origin:{position:"absolute",top:0,color:"#999",cursor:"text"},extend:inputStyle!==undefined&&inputStyle.textAlign==="center"?{left:0,width:"100%",textAlign:"center"}:{left:value===undefined?0:value.length}}),wrapper,input,placeholderButton,replacePlaceholderButton,getInputDom,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,getName,getValue,setValue,select,focus,blur,addWrapperStyle,addInputStyle,addChangeValueProc,show,hide,checkIsShow;wrapper=DIV({style:{padding:5,backgroundColor:"#FFF"},childs:[DIV({style:{position:"relative",overflow:"hidden"},childs:[input=INPUT({style:{width:"100%",backgroundColor:"transparent",border:"none"},name:name,type:type,value:value,onChange:replacePlaceholderButton}),placeholderButton=UUI.TEXT_BUTTON({style:placeholderStyle,msg:placeholder,onTap:function(){focus()}})]})]});replacePlaceholderButton=RAR(function(){var value=input.getValue(),count=0,fontSizeStr=input.getStyle("fontSize"),fontSize=fontSizeStr===undefined?12:parseInt(fontSizeStr,10);if(input.getStyle("textAlign")==="center"){placeholderButton.addStyle({left:0,width:"100%",textAlign:"center"});if(value===""){placeholderButton.show()}else{placeholderButton.hide()}}else{REPEAT(value.length,function(i){var c=value.charAt(i);if(escape(c).length>4){count+=1.8}else{count+=1}});placeholderButton.addStyle({left:count*fontSize/1.6+(count>0?5:0),width:"auto",textAlign:"left"})}});EVENT({node:input,name:"keydown"},function(e){DELAY(function(){replacePlaceholderButton()})});input.addChangeValueProc(function(){replacePlaceholderButton()});wrapper.isValidWrapper=true;self.getInputDom=getInputDom=function(){return input};self.getDom=getDom=function(){return wrapper};self.append=append=function(node){wrapper.append(node)};self.appendTo=appendTo=function(node){node.append(wrapper);return self};self.prepend=prepend=function(node){wrapper.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(wrapper);return self};self.after=after=function(node){wrapper.after(node)};self.insertAfter=insertAfter=function(node){node.after(wrapper);return self};self.before=before=function(node){wrapper.before(node)};self.insertBefore=insertBefore=function(node){node.before(wrapper);return self};self.remove=remove=function(){wrapper.remove()};self.removeAllChilds=removeAllChilds=function(){wrapper.removeAllChilds()};self.getParent=getParent=function(){return wrapper.getParent()};self.setParent=setParent=function(parent){wrapper.setParent(parent)};self.getChilds=getChilds=function(){return wrapper.getChilds()};self.getName=getName=function(){return name};self.getValue=getValue=function(){return input.getValue()};self.setValue=setValue=function(value){input.setValue(value)};self.select=select=function(){input.select()};self.focus=focus=function(){input.focus()};self.blur=blur=function(){input.blur()};self.addWrapperStyle=addWrapperStyle=function(style){wrapper.addStyle(style)};if(wrapperStyle!==undefined){addWrapperStyle(wrapperStyle)}self.addInputStyle=addInputStyle=function(style){input.addStyle(style);placeholderButton.addStyle(style);placeholderButton.addStyle(placeholderStyle)};if(inputStyle!==undefined){addInputStyle(inputStyle)}self.addChangeValueProc=addChangeValueProc=function(proc){input.addChangeValueProc(proc)};if(onChange!==undefined){addChangeValueProc(onChange)}self.show=show=function(){wrapper.show()};self.hide=hide=function(){wrapper.hide()};self.checkIsShow=checkIsShow=function(){return wrapper.checkIsShow()}}});UUI.FULL_SELECT=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var name=params.name,value=params.value,options=params.options,wrapperStyle=params.wrapperStyle,selectStyle=params.selectStyle,onChange=params.onChange,wrapper,_select,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,getName,getValue,setValue,select,blur,addWrapperStyle,addSelectStyle,addOption,addChangeValueProc,show,hide,checkIsShow;wrapper=DIV({style:{padding:5,backgroundColor:"#FFF",position:"relative"},childs:[_select=SELECT({style:{width:"100%",backgroundColor:"transparent",border:"none"},name:name})]});wrapper.isValidWrapper=true;self.getDom=getDom=function(){return wrapper};self.append=append=function(node){wrapper.append(node)};self.appendTo=appendTo=function(node){node.append(wrapper);return self};self.prepend=prepend=function(node){wrapper.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(wrapper);return self};self.after=after=function(node){wrapper.after(node)};self.insertAfter=insertAfter=function(node){node.after(wrapper);return self};self.before=before=function(node){wrapper.before(node)};self.insertBefore=insertBefore=function(node){node.before(wrapper);return self};self.remove=remove=function(){wrapper.remove()};self.removeAllChilds=removeAllChilds=function(){wrapper.removeAllChilds()};self.getParent=getParent=function(){return wrapper.getParent()};self.setParent=setParent=function(parent){wrapper.setParent(parent)};self.getChilds=getChilds=function(){return wrapper.getChilds()};self.getName=getName=function(){return name};self.getValue=getValue=function(){return _select.getValue()};self.setValue=setValue=function(value){_select.setValue(value)};if(value!==undefined){setValue(value)}self.select=select=function(){_select.select()};self.blur=blur=function(){_select.blur()};self.addWrapperStyle=addWrapperStyle=function(style){wrapper.addStyle(style)};if(wrapperStyle!==undefined){addWrapperStyle(wrapperStyle)}self.addSelectStyle=addSelectStyle=function(style){_select.addStyle(style)};if(selectStyle!==undefined){addSelectStyle(selectStyle)}self.addOption=addOption=function(option){_select.append(option)};if(options!==undefined){EACH(options,function(option){addOption(option)})}self.addChangeValueProc=addChangeValueProc=function(proc){_select.addChangeValueProc(proc)};if(onChange!==undefined){addChangeValueProc(onChange)}self.show=show=function(){wrapper.show()};self.hide=hide=function(){wrapper.hide()};self.checkIsShow=checkIsShow=function(){return wrapper.checkIsShow()}}});UUI.FULL_SUBMIT=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var style=params===undefined?undefined:params.style,value=params===undefined?undefined:params.value,input,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addStyle,show,hide,checkIsShow;input=INPUT({type:"submit",style:{border:"none",width:"100%",padding:"10px 0",cursor:"pointer"}});if(value!==undefined){input.setValue(value)}self.getDom=getDom=function(){return input};self.append=append=function(node){input.append(node)};self.appendTo=appendTo=function(node){node.append(input);return self};self.prepend=prepend=function(node){input.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(input);return self};self.after=after=function(node){input.after(node)};self.insertAfter=insertAfter=function(node){node.after(input);return self};self.before=before=function(node){input.before(node)};self.insertBefore=insertBefore=function(node){node.before(input);return self};self.remove=remove=function(){input.remove()};self.removeAllChilds=removeAllChilds=function(){input.removeAllChilds()};self.getParent=getParent=function(){return input.getParent()};self.setParent=setParent=function(parent){input.setParent(parent)};self.getChilds=getChilds=function(){return input.getChilds()};self.addStyle=addStyle=function(style){input.addStyle(style)};if(style!==undefined){addStyle(style)}self.show=show=function(){input.show()};self.hide=hide=function(){input.hide()};self.checkIsShow=checkIsShow=function(){return input.checkIsShow()}}});UUI.FULL_TEXTAREA=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var name=params.name,placeholder=params.placeholder,value=params.value,wrapperStyle=params.wrapperStyle,textareaStyle=params.textareaStyle,onChange=params.onChange,wrapper,textarea,getTextareaDom,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,getName,getValue,setValue,select,focus,blur,addWrapperStyle,addTextareaStyle,addChangeValueProc,show,hide,checkIsShow;wrapper=DIV({style:{padding:5,backgroundColor:"#FFF",position:"relative",height:100},childs:[textarea=TEXTAREA({style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"none"},name:name,placeholder:placeholder,value:value})]});wrapper.isValidWrapper=true;self.getTextareaDom=getTextareaDom=function(){return textarea};self.getDom=getDom=function(){return wrapper};self.append=append=function(node){wrapper.append(node)};self.appendTo=appendTo=function(node){node.append(wrapper);return self};self.prepend=prepend=function(node){wrapper.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(wrapper);return self};self.after=after=function(node){wrapper.after(node)};self.insertAfter=insertAfter=function(node){node.after(wrapper);return self};self.before=before=function(node){wrapper.before(node)};self.insertBefore=insertBefore=function(node){node.before(wrapper);return self};self.remove=remove=function(){wrapper.remove()};self.removeAllChilds=removeAllChilds=function(){wrapper.removeAllChilds()};self.getParent=getParent=function(){return wrapper.getParent()};self.setParent=setParent=function(parent){wrapper.setParent(parent)};self.getChilds=getChilds=function(){return wrapper.getChilds()};self.getName=getName=function(){return name};self.getValue=getValue=function(){return textarea.getValue()};self.setValue=setValue=function(value){textarea.setValue(value)};self.select=select=function(){textarea.select()};self.focus=focus=function(){textarea.focus()};self.blur=blur=function(){textarea.blur()};self.addWrapperStyle=addWrapperStyle=function(style){wrapper.addStyle(style)};if(wrapperStyle!==undefined){addWrapperStyle(wrapperStyle)}self.addTextareaStyle=addTextareaStyle=function(style){textarea.addStyle(style)};if(textareaStyle!==undefined){addTextareaStyle(textareaStyle)}self.addChangeValueProc=addChangeValueProc=function(proc){textarea.addChangeValueProc(proc)};if(onChange!==undefined){addChangeValueProc(onChange)}self.show=show=function(){wrapper.show()};self.hide=hide=function(){wrapper.hide()};self.checkIsShow=checkIsShow=function(){return wrapper.checkIsShow()}}});UUI.FULL_UPLOAD_FORM=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var wrapperStyle=params.wrapperStyle,formStyle=params.formStyle,inputStyle=params.inputStyle,uploadingStyle=params.uploadingStyle,box=params.box,afterUpload=params.afterUpload,onChange=params.onChange,wrapper,form,input,iframe,uploading,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,show,hide,checkIsShow,select,addWrapperStyle,addFormStyle,addInputStyle,addUploadingStyle,addChangeValueProc,show,hide,checkIsShow;wrapper=DIV({style:{padding:5,background:"#FFF",position:"relative"},childs:[iframe=IFRAME({style:{display:"none"},name:"__UPLOAD_FORM_"+self.id}),form=FORM({action:"/"+box.boxName+"/__UPLOAD?"+CONFIG.version,target:"__UPLOAD_FORM_"+self.id,method:"POST",enctype:"multipart/form-data",style:{padding:5},childs:[input=INPUT({type:"file",isMultiple:true,style:{width:"100%",height:"100%",color:"#000",border:"none"}}),INPUT({type:"submit",style:{visibility:"hidden",position:"absolute"}})]}),uploading=UUI.PANEL({wrapperStyle:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"none"},contentStyle:{backgroundColor:"#000",position:"absolute",top:"50%",left:"50%",width:100,marginLeft:-55,marginTop:-13,padding:5,textAlign:"center",borderRadius:10},childs:["Uploading..."]})]});form.isValidWrapper=true;EVENT({node:iframe,name:"load"},function(e){var frame=global["__UPLOAD_FORM_"+self.id],fileDatas=frame!==undefined?frame.fileDatas:undefined,errorCode=frame!==undefined?frame.errorCode:undefined;if(fileDatas!==undefined||errorCode!==undefined){EACH(fileDatas,function(fileData,i){fileDatas[i]=UNPACK_DATA(fileData)});input.setValue("");afterUpload(fileDatas,errorCode)}uploading.hide()});EVENT({node:input,name:"change"},function(e){uploading.show();form.submit(true)});self.getDom=getDom=function(){return wrapper};self.append=append=function(node){wrapper.append(node)};self.appendTo=appendTo=function(node){node.append(wrapper);return self};self.prepend=prepend=function(node){wrapper.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(wrapper);return self};self.after=after=function(node){wrapper.after(node)};self.insertAfter=insertAfter=function(node){node.after(wrapper);return self};self.before=before=function(node){wrapper.before(node)};self.insertBefore=insertBefore=function(node){node.before(wrapper);return self};self.remove=remove=function(){wrapper.remove()};self.removeAllChilds=removeAllChilds=function(){wrapper.removeAllChilds()};self.getParent=getParent=function(){return wrapper.getParent()};self.setParent=setParent=function(parent){wrapper.setParent(parent)};self.getChilds=getChilds=function(){return wrapper.getChilds()};self.show=show=function(){wrapper.show()};self.hide=hide=function(){wrapper.hide()};self.checkIsShow=checkIsShow=function(){return wrapper.checkIsShow()};self.select=select=function(){input.select()};self.addWrapperStyle=addWrapperStyle=function(style){wrapper.addStyle(style)};if(wrapperStyle!==undefined){addWrapperStyle(wrapperStyle)}self.addFormStyle=addFormStyle=function(style){form.addStyle(style)};if(formStyle!==undefined){addFormStyle(formStyle)}self.addInputStyle=addInputStyle=function(style){input.addStyle(style)};if(inputStyle!==undefined){addInputStyle(inputStyle)}self.addUploadingStyle=addUploadingStyle=function(style){uploading.addWrapperStyle(style)};if(uploadingStyle!==undefined){addUploadingStyle(uploadingStyle)}self.addChangeValueProc=addChangeValueProc=function(proc){input.addChangeValueProc(proc)};if(onChange!==undefined){addChangeValueProc(onChange)}self.show=show=function(){wrapper.show()};self.hide=hide=function(){wrapper.hide()};self.checkIsShow=checkIsShow=function(){return wrapper.checkIsShow()}}});UUI.IMG_BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var img=params.img,href=params.href,target=params.target,style=params.style,onTap=params.onTap,onMouseover=params.onMouseover,onMouseout=params.onMouseout,a,getImg,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addStyle,show,hide,checkIsShow,tap;a=A({style:{cursor:"pointer",textDecoration:"none"},href:href,target:target,childs:[img]});if(onTap!==undefined){EVENT({node:a,name:"tap"},function(e){onTap(e,self)})}if(onMouseover!==undefined){EVENT({node:a,name:"mouseover"},function(e){onMouseover(e,self)})}if(onMouseout!==undefined){EVENT({node:a,name:"mouseout"},function(e){onMouseout(e,self)})}self.getImg=getImg=function(){return img};self.getDom=getDom=function(){return a};self.append=append=function(node){a.append(node)};self.appendTo=appendTo=function(node){node.append(a);return self};self.prepend=prepend=function(node){a.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(a);return self};self.after=after=function(node){a.after(node)};self.insertAfter=insertAfter=function(node){node.after(a);return self};self.before=before=function(node){a.before(node)};self.insertBefore=insertBefore=function(node){node.before(a);return self};self.remove=remove=function(){a.remove()};self.removeAllChilds=removeAllChilds=function(){a.removeAllChilds()};self.getParent=getParent=function(){return a.getParent()};self.setParent=setParent=function(parent){a.setParent(parent)};self.getChilds=getChilds=function(){return a.getChilds()};self.addStyle=addStyle=function(style){a.addStyle(style)};if(style!==undefined){addStyle(style)}self.show=show=function(){a.show()};self.hide=hide=function(){a.hide()};self.checkIsShow=checkIsShow=function(){return a.checkIsShow()};self.tap=tap=function(){onTap()}}});UUI.LIST=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var childs=params===undefined?undefined:params.childs,listStyle=params===undefined?undefined:params.listStyle,itemStyle=params===undefined?undefined:params.itemStyle,items=params===undefined?undefined:params.items,itemStack=[],removeItemHandlers={},ul,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addListStyle,addItemStyle,addItem,removeItem,addRemoveItemHandler,removeAllItems,show,hide,checkIsShow;if(items===undefined){items={}}ul=UL();self.getDom=getDom=function(){return ul};self.append=append=function(node){ul.append(node)};if(childs!==undefined){EACH(childs,function(child,i){append(child)})}self.appendTo=appendTo=function(node){node.append(ul);return self};self.prepend=prepend=function(node){ul.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(ul);return self};self.after=after=function(node){ul.after(node)};self.insertAfter=insertAfter=function(node){node.after(ul);return self};self.before=before=function(node){ul.before(node)};self.insertBefore=insertBefore=function(node){node.before(ul);return self};self.remove=remove=function(){ul.remove()};self.removeAllChilds=removeAllChilds=function(){ul.removeAllChilds()};self.getParent=getParent=function(){return ul.getParent()};self.setParent=setParent=function(parent){ul.setParent(parent)};self.getChilds=getChilds=function(){return ul.getChilds()};self.addListStyle=addListStyle=function(style){ul.addStyle(style)};if(listStyle!==undefined){addListStyle(listStyle)}self.addItemStyle=addItemStyle=function(style){EACH(style,function(value,name){itemStyle[name]=value});EACH(items,function(item,key){item.addStyle(style)})};if(itemStyle!==undefined){addItemStyle(itemStyle)}self.addItem=addItem=function(params){var key=params.key,item=params.item,isFirst=params.isFirst;item.addStyle(itemStyle);if(items[key]!==undefined){item.insertBefore(items[key]);itemStack[FIND_KEY({data:itemStack,value:items[key]})]=item;items[key].remove()}else if(isFirst===true&&itemStack.length>0){item.insertBefore(itemStack[0]);itemStack.unshift(item)}else{ul.append(item);itemStack.push(item)}items[key]=item};EACH(items,function(item,key){item.addStyle(itemStyle);itemStack.push(item);ul.append(item)});self.removeItem=removeItem=function(key){var item=items[key],handlers=removeItemHandlers[key];if(item!==undefined){item.remove()}if(handlers!==undefined){EACH(handlers,function(handler){handler()})}REMOVE({data:itemStack,value:item});REMOVE_AT({data:items,key:key});REMOVE_AT({data:removeItemHandlers,key:key})};self.addRemoveItemHandler=addRemoveItemHandler=function(key,removeItemHandler){if(removeItemHandlers[key]===undefined){removeItemHandlers[key]=[]}removeItemHandlers[key].push(removeItemHandler)};self.removeAllItems=removeAllItems=function(){EACH(items,function(item,key){var handlers=removeItemHandlers[key];item.remove();if(handlers!==undefined){EACH(handlers,function(handler){handler()})}});items={};itemStack=[];removeItemHandlers={}};self.show=show=function(){ul.show()};self.hide=hide=function(){ul.hide()};self.checkIsShow=checkIsShow=function(){return ul.checkIsShow()}}});UUI.LOADING=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var wrapperStyle=params.wrapperStyle,contentStyle=params.contentStyle,indicator=params.indicator,msg=params.msg,modal,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addWrapperStyle,addContentStyle;modal=UUI.MODAL({wrapperStyle:COMBINE_DATA({origin:{textAlign:"center"},extend:wrapperStyle}),contentStyle:contentStyle,isCannotClose:true,childs:[indicator===undefined?"":indicator,P({style:indicator===undefined?{}:{marginTop:10},childs:[msg]})]});self.getDom=getDom=function(){return modal.getDom()};self.append=append=function(node){modal.append(node)};self.appendTo=appendTo=function(node){node.append(modal);return self};self.prepend=prepend=function(node){modal.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(modal);return self};self.after=after=function(node){modal.after(node)};self.insertAfter=insertAfter=function(node){node.after(modal);return self};self.before=before=function(node){modal.before(node)};self.insertBefore=insertBefore=function(node){node.before(modal);return self};self.remove=remove=function(){modal.remove()};self.removeAllChilds=removeAllChilds=function(){modal.removeAllChilds()};self.getParent=getParent=function(){return modal.getParent()};self.setParent=setParent=function(parent){modal.setParent(parent)};self.getChilds=getChilds=function(){return modal.getChilds()};self.addWrapperStyle=addWrapperStyle=function(style){modal.addWrapperStyle(style)};self.addContentStyle=addContentStyle=function(style){modal.addContentStyle(style)}}});UUI.MODAL=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var childs=params===undefined?undefined:params.childs,wrapperStyle=params===undefined?undefined:params.wrapperStyle,contentStyle=params===undefined?undefined:params.contentStyle,xStyle=params===undefined?undefined:params.xStyle,xImg=params===undefined?undefined:params.xImg,isCannotClose=params===undefined?undefined:params.isCannotClose,onClose=params===undefined?undefined:params.onClose,wrapper,content,resizeEvent,scrollEvent,escEvent,moveToCenter,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addWrapperStyle,addContentStyle;if(xImg===undefined&&isCannotClose!==true){xImg=IMG({src:UUI.R("x.png")})}wrapper=DIV({childs:[content=DIV(),isCannotClose===true?"":UUI.IMG_BUTTON({style:COMBINE_DATA({origin:{position:"absolute",top:-10,right:-10,padding:0},extend:xStyle}),img:xImg,onTap:function(){remove();if(onClose!==undefined){onClose()}}})]});moveToCenter=function(){var left=(WIN_WIDTH()-wrapper.getWidth())/2+SCROLL_LEFT(),top=(WIN_HEIGHT()-wrapper.getHeight())/2+SCROLL_TOP();wrapper.addStyle({position:"absolute",left:left<0?0:left,top:top<0?0:top})};resizeEvent=EVENT({name:"resize"},moveToCenter);scrollEvent=EVENT({name:"scroll"},moveToCenter);escEvent=EVENT({name:"keydown"},function(e){if(e.getKeyCode()===27&&isCannotClose!==true){remove();if(onClose!==undefined){onClose()}}});wrapper.addAfterShowProc(function(){var find;moveToCenter();find=function(childs){EACH(childs,function(child){if(child.type===IMG){EVENT({node:child,name:"load"},function(){moveToCenter()})}if(child.getChilds!==undefined){find(child.getChilds())}})};find(wrapper.getChilds())});wrapper.addAfterRemoveProc(function(){resizeEvent.remove();scrollEvent.remove();escEvent.remove()});self.getDom=getDom=function(){return wrapper};self.append=append=function(node){content.append(node);moveToCenter()};if(childs!==undefined){EACH(childs,function(child,i){append(child)})}self.appendTo=appendTo=function(node){node.append(wrapper);return self};self.prepend=prepend=function(node){content.prepend(node);moveToCenter()};self.prependTo=prependTo=function(node){node.prepend(wrapper);return self};self.after=after=function(node){wrapper.after(node);moveToCenter()};self.insertAfter=insertAfter=function(node){node.after(wrapper);return self};self.before=before=function(node){wrapper.before(node);moveToCenter()};self.insertBefore=insertBefore=function(node){node.before(wrapper);return self};self.remove=remove=function(){wrapper.remove()};self.removeAllChilds=removeAllChilds=function(){wrapper.removeAllChilds()};self.getParent=getParent=function(){return wrapper.getParent()};self.setParent=setParent=function(parent){wrapper.setParent(parent)};self.getChilds=getChilds=function(){return wrapper.getChilds()};self.addWrapperStyle=addWrapperStyle=function(style){wrapper.addStyle(style);moveToCenter()};if(wrapperStyle!==undefined){addWrapperStyle(wrapperStyle)}self.addContentStyle=addContentStyle=function(style){content.addStyle(style);
moveToCenter()};if(contentStyle!==undefined){addContentStyle(contentStyle)}}});UUI.NOTICE=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var wrapperStyle=params.wrapperStyle,contentStyle=params.contentStyle,isCannotClose=params.isCannotClose,msg=params.msg,modal,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addWrapperStyle,addContentStyle;modal=UUI.MODAL({wrapperStyle:COMBINE_DATA({origin:{textAlign:"center"},extend:wrapperStyle}),contentStyle:contentStyle,isCannotClose:true,childs:[msg]});self.getDom=getDom=function(){return modal};self.append=append=function(node){modal.append(node)};self.appendTo=appendTo=function(node){node.append(modal);return self};self.prepend=prepend=function(node){modal.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(modal);return self};self.after=after=function(node){modal.after(node)};self.insertAfter=insertAfter=function(node){node.after(modal);return self};self.before=before=function(node){modal.before(node)};self.insertBefore=insertBefore=function(node){node.before(modal);return self};self.remove=remove=function(){modal.remove()};self.removeAllChilds=removeAllChilds=function(){modal.removeAllChilds()};self.getParent=getParent=function(){return modal.getParent()};self.setParent=setParent=function(parent){modal.setParent(parent)};self.getChilds=getChilds=function(){return modal.getChilds()};self.addWrapperStyle=addWrapperStyle=function(style){modal.addWrapperStyle(style)};self.addContentStyle=addContentStyle=function(style){modal.addContentStyle(style)};if(isCannotClose!==true){DELAY(2,remove)}}});UUI.PANEL=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var childs=params===undefined?undefined:params.childs,wrapperStyle=params===undefined?undefined:params.wrapperStyle,contentStyle=params===undefined?undefined:params.contentStyle,wrapper,content,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addWrapperStyle,addContentStyle,show,hide,checkIsShow;wrapper=DIV({childs:[content=DIV()]});self.getDom=getDom=function(){return wrapper};self.append=append=function(node){content.append(node)};if(childs!==undefined){EACH(childs,function(child,i){append(child)})}self.appendTo=appendTo=function(node){node.append(wrapper);return self};self.prepend=prepend=function(node){content.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(wrapper);return self};self.after=after=function(node){wrapper.after(node)};self.insertAfter=insertAfter=function(node){node.after(wrapper);return self};self.before=before=function(node){wrapper.before(node)};self.insertBefore=insertBefore=function(node){node.before(wrapper);return self};self.remove=remove=function(){wrapper.remove()};self.removeAllChilds=removeAllChilds=function(){content.removeAllChilds()};self.getParent=getParent=function(){return wrapper.getParent()};self.setParent=setParent=function(parent){wrapper.setParent(parent)};self.getChilds=getChilds=function(){return content.getChilds()};self.addWrapperStyle=addWrapperStyle=function(style){wrapper.addStyle(style)};if(wrapperStyle!==undefined){addWrapperStyle(wrapperStyle)}self.addContentStyle=addContentStyle=function(style){content.addStyle(style)};if(contentStyle!==undefined){addContentStyle(contentStyle)}self.show=show=function(){wrapper.show()};self.hide=hide=function(){wrapper.hide()};self.checkIsShow=checkIsShow=function(){return wrapper.checkIsShow()}}});UUI.TABLE=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var childs=params===undefined?undefined:params.childs,style=params===undefined?undefined:params.style,trs=params===undefined?undefined:params.trs,trStack=[],removeTRHandlers={},table,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addStyle,addTR,removeTR,addRemoveTRHandler,removeAllTRs,show,hide,checkIsShow;if(trs===undefined){trs={}}table=TABLE();self.getDom=getDom=function(){return table};self.append=append=function(node){table.append(node)};if(childs!==undefined){EACH(childs,function(child,i){append(child)})}self.appendTo=appendTo=function(node){node.append(table);return self};self.prepend=prepend=function(node){table.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(table);return self};self.after=after=function(node){table.after(node)};self.insertAfter=insertAfter=function(node){node.after(table);return self};self.before=before=function(node){table.before(node)};self.insertBefore=insertBefore=function(node){node.before(table);return self};self.remove=remove=function(){table.remove()};self.removeAllChilds=removeAllChilds=function(){table.removeAllChilds()};self.getParent=getParent=function(){return table.getParent()};self.setParent=setParent=function(parent){table.setParent(parent)};self.getChilds=getChilds=function(){return table.getChilds()};self.addStyle=addStyle=function(style){table.addStyle(style)};if(style!==undefined){addStyle(style)}self.addTR=addTR=function(params){var key=params.key,tr=params.tr,isFirst=params.isFirst;if(trs[key]!==undefined){tr.insertBefore(trs[key]);trStack[FIND_KEY({data:trStack,value:trs[key]})]=tr;trs[key].remove()}else if(isFirst===true&&trStack.length>0){tr.insertBefore(trStack[0]);trStack.unshift(tr)}else{table.append(tr);trStack.push(tr)}trs[key]=tr};EACH(trs,function(tr,key){trStack.push(tr);table.append(tr)});self.removeTR=removeTR=function(key){var tr=trs[key],handlers=removeTRHandlers[key];if(tr!==undefined){tr.remove()}if(handlers!==undefined){EACH(handlers,function(handler){handler()})}REMOVE({data:trStack,value:tr});REMOVE_AT({data:trs,key:key});REMOVE_AT({data:removeTRHandlers,key:key})};self.addRemoveTRHandler=addRemoveTRHandler=function(key,removeTRHandler){if(removeTRHandlers[key]===undefined){removeTRHandlers[key]=[]}removeTRHandlers[key].push(removeTRHandler)};self.removeAllTRs=removeAllTRs=function(){EACH(trs,function(tr,key){var handlers=removeTRHandlers[key];tr.remove();if(handlers!==undefined){EACH(handlers,function(handler){handler()})}});trs={};trStack=[];removeTRHandlers={}};self.show=show=function(){table.show()};self.hide=hide=function(){table.hide()};self.checkIsShow=checkIsShow=function(){return table.checkIsShow()}}});UUI.TEXT_BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var msg=params.msg,href=params.href,target=params.target,style=params.style,onTap=params.onTap,onMouseover=params.onMouseover,onMouseout=params.onMouseout,a,span,setMsg,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addStyle,show,hide,checkIsShow,tap;a=A({style:{cursor:"pointer",textDecoration:"none"},href:href,target:target,childs:[span=SPAN({childs:[msg===undefined?"":msg]})]});if(onTap!==undefined){EVENT({node:a,name:"tap"},function(e){onTap(e,self)})}if(onMouseover!==undefined){EVENT({node:a,name:"mouseover"},function(e){onMouseover(e,self)})}if(onMouseout!==undefined){EVENT({node:a,name:"mouseout"},function(e){onMouseout(e,self)})}self.setMsg=setMsg=function(msg){span.removeAllChilds();span.append(msg)};self.getDom=getDom=function(){return a};self.append=append=function(node){a.append(node)};self.appendTo=appendTo=function(node){node.append(a);return self};self.prepend=prepend=function(node){a.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(a);return self};self.after=after=function(node){a.after(node)};self.insertAfter=insertAfter=function(node){node.after(a);return self};self.before=before=function(node){a.before(node)};self.insertBefore=insertBefore=function(node){node.before(a);return self};self.remove=remove=function(){a.remove()};self.removeAllChilds=removeAllChilds=function(){a.removeAllChilds()};self.getParent=getParent=function(){return a.getParent()};self.setParent=setParent=function(parent){a.setParent(parent)};self.getChilds=getChilds=function(){return a.getChilds()};self.addStyle=addStyle=function(style){a.addStyle(style)};if(style!==undefined){addStyle(style)}self.show=show=function(){a.show()};self.hide=hide=function(){a.hide()};self.checkIsShow=checkIsShow=function(){return a.checkIsShow()};self.tap=tap=function(){onTap()}}});UUI.VALID_FORM=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var errorMsgs=params===undefined?undefined:params.errorMsgs,onSubmit=params===undefined?undefined:params.onSubmit,childs=params===undefined?undefined:params.childs,style=params===undefined?undefined:params.style,errorMsgStyle=params===undefined?undefined:params.errorMsgStyle,form,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,getData,setData,addSubmitProc,submit,showErrors,getErrorMsgs,addStyle,show,hide,checkIsShow;form=FORM();self.getDom=getDom=function(){return form};self.append=append=function(node){form.append(node)};if(childs!==undefined){EACH(childs,function(child,i){append(child)})}self.appendTo=appendTo=function(node){node.append(form);return self};self.prepend=prepend=function(node){form.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(form);return self};self.after=after=function(node){form.after(node)};self.insertAfter=insertAfter=function(node){node.after(form);return self};self.before=before=function(node){form.before(node)};self.insertBefore=insertBefore=function(node){node.before(form);return self};self.remove=remove=function(){form.remove()};self.removeAllChilds=removeAllChilds=function(){form.removeAllChilds()};self.getParent=getParent=function(){return form.getParent()};self.setParent=setParent=function(parent){form.setParent(parent)};self.getChilds=getChilds=function(){return form.getChilds()};self.getData=getData=function(){return form.getData()};self.setData=setData=function(data){return form.setData(data)};self.addSubmitProc=addSubmitProc=function(func){form.addSubmitProc(function(e){func(e,self)})};if(onSubmit!==undefined){addSubmitProc(onSubmit)}self.submit=submit=function(){form.submit()};self.showErrors=showErrors=function(_errors){var errors=COPY_DATA(_errors),f=function(node){EACH(node.getChilds(),function(child){var name,error,errorMsg,errorMsgP;if(child.getValue!==undefined&&child.getName!==undefined){name=child.getName();error=errors[name];if(error!==undefined&&errorMsgs!==undefined){errorMsg=errorMsgs[name][error.type];if(typeof errorMsg==="function"){if(error.validParam!==undefined){errorMsg=errorMsg(error.validParam)}else{errorMsg=errorMsg(error.validParams)}}(child.getParent().getParent().isValidWrapper===true?child.getParent().getParent():child.getParent().isValidWrapper===true?child.getParent():child).after(errorMsgP=P({style:errorMsgStyle,childs:[errorMsg]}));REMOVE_AT({data:errors,key:name});DELAY(2,function(){errorMsgP.remove()})}}f(child)})};f(self)};self.getErrorMsgs=getErrorMsgs=function(_errors){var errors=COPY_DATA(_errors),msgs=[],f=function(node){EACH(node.getChilds(),function(child){var name,error,errorMsg;if(child.getValue!==undefined&&child.getName!==undefined){name=child.getName();error=errors[name];if(error!==undefined&&errorMsgs!==undefined){errorMsg=errorMsgs[name][error.type];if(typeof errorMsg==="function"){if(error.validParam!==undefined){errorMsg=errorMsg(error.validParam)}else{errorMsg=errorMsg(error.validParams)}}msgs.push(errorMsg);REMOVE_AT({data:errors,key:name})}}f(child)})};f(self);return msgs};self.addStyle=addStyle=function(style){form.addStyle(style)};if(style!==undefined){addStyle(style)}self.show=show=function(){form.show()};self.hide=hide=function(){form.hide()};self.checkIsShow=checkIsShow=function(){return form.checkIsShow()}}});UUI.V_CENTER=CLASS({preset:function(){"use strict";return NODE},init:function(cls,inner,self,params){"use strict";var childs=params===undefined?undefined:params.childs,wrapperStyle=params===undefined?undefined:params.wrapperStyle,contentStyle=params===undefined?undefined:params.contentStyle,wrapper,content,getDom,append,appendTo,prepend,prependTo,after,insertAfter,before,insertBefore,remove,removeAllChilds,getParent,setParent,getChilds,addWrapperStyle,addContentStyle,show,hide,checkIsShow;wrapper=TABLE({style:{width:"100%",margin:0,padding:0},childs:[TR({style:{margin:0,padding:0},childs:[content=TD({style:{margin:0,padding:0}})]})]});self.getDom=getDom=function(){return wrapper};self.append=append=function(node){content.append(node)};if(childs!==undefined){EACH(childs,function(child,i){append(child)})}self.appendTo=appendTo=function(node){node.append(wrapper);return self};self.prepend=prepend=function(node){content.prepend(node)};self.prependTo=prependTo=function(node){node.prepend(wrapper);return self};self.after=after=function(node){wrapper.after(node)};self.insertAfter=insertAfter=function(node){node.after(wrapper);return self};self.before=before=function(node){wrapper.before(node)};self.insertBefore=insertBefore=function(node){node.before(wrapper);return self};self.remove=remove=function(){wrapper.remove()};self.removeAllChilds=removeAllChilds=function(){content.removeAllChilds()};self.getParent=getParent=function(){return wrapper.getParent()};self.setParent=setParent=function(parent){wrapper.setParent(parent)};self.getChilds=getChilds=function(){return content.getChilds()};self.addWrapperStyle=addWrapperStyle=function(style){wrapper.addStyle(style)};if(wrapperStyle!==undefined){addWrapperStyle(wrapperStyle)}self.addContentStyle=addContentStyle=function(style){content.addStyle(style)};if(contentStyle!==undefined){addContentStyle(contentStyle)}self.show=show=function(){wrapper.show()};self.hide=hide=function(){wrapper.hide()};self.checkIsShow=checkIsShow=function(){return wrapper.checkIsShow()}}});