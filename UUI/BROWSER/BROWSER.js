UUI.BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l=o.img,f=o.title,s=void 0===o.spacing?0:o.spacing,p=o.href,v=o.target,g=o.style,y=o.on;void 0!==y&&EACH(y,function(t,e){y[e]=function(e){t(e,n)}}),i=A({style:COMBINE_DATA({origin:{display:"block",textAlign:"center",cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},extend:g}),href:p,target:v,on:y}),void 0!==f&&i.prepend(r=DIV({c:[void 0===f?"":f]})),void 0!==l&&i.prepend(DIV({style:{marginBottom:void 0!==f?s:0},c:[l]})),n.setTitle=d=function(t){r.empty(),r.append(t)},n.getImg=u=function(){return l},n.getDom=a=function(){return i},n.tap=c=function(){void 0!==y&&void 0!==y.tap&&y.tap()}}}),UUI.BUTTON_H=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f=o.img,s=o.title,p=void 0===o.spacing?0:o.spacing,v=o.href,g=o.target,y=o.style,S=o.on;void 0!==S&&EACH(S,function(t,e){S[e]=function(e){t(e,n)}}),i=A({style:COMBINE_DATA({origin:{display:"block",cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},extend:y}),href:v,target:g,on:S,c:[r=DIV({style:{flt:"left"},c:[void 0===s?"":s]}),CLEAR_BOTH()]}),void 0!==f&&(f.addStyle({flt:"left"}),void 0===f.getStyle("margin")&&void 0===f.getStyle("marginRight")&&f.addStyle({marginRight:p}),i.prepend(f),d=EVENT({node:f,name:"load"},function(){r.addStyle({marginTop:(f.getHeight()-r.getHeight())/2}),d.remove()})),n.setTitle=u=function(t){r.empty(),r.append(t)},n.getImg=a=function(){return f},n.getDom=c=function(){return i},n.tap=l=function(){void 0!==S&&void 0!==S.tap&&S.tap()}}}),UUI.FULL_CHECKBOX=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p,v,g=o.name,y=o.label,S=o.value,m=o.wrapperStyle,A=o.inputStyle,E=o.on;void 0!==E&&EACH(E,function(t,e){E[e]=function(e){t(e,n)}}),i=DIV({style:{position:"relative"},on:{tap:function(t){r.toggleCheck(),t.stop()}},c:[r=INPUT({style:{flt:"left",marginRight:5},name:g,type:"checkbox",on:COMBINE_DATA({origin:{tap:function(t){t.stop()}},extend:void 0!==E?E:{}}),value:S}),d=SPAN({style:{flt:"left",cursor:"pointer"},c:[y]}),CLEAR_BOTH()]}),i.isValidWrapper=!0,n.getDom=u=function(){return i},n.getName=a=function(){return g},n.getValue=c=function(){return r.getValue()},n.setValue=l=function(t){r.setValue(t)},n.select=f=function(){r.select()},n.blur=s=function(){r.blur()},n.addWrapperStyle=p=function(t){i.addStyle(t)},void 0!==m&&p(m),n.addInputStyle=v=function(t){r.addStyle(t)},void 0!==A&&v(A)}}),UUI.FULL_INPUT=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p,v,g,y,S,m,A=o.name,E=o.type,C=o.placeholder,h=o.value,D=o.wrapperStyle,I=o.inputStyle,T=o.on,U=o.isHidePlaceholder,O=COMBINE_DATA({origin:{position:"absolute",top:0,color:"#999",cursor:"text"},extend:void 0!==I&&"center"===I.textAlign?{left:0,width:"100%",textAlign:"center"}:{left:void 0===h?0:h.length}});void 0!==T&&EACH(T,function(t,e){T[e]=function(e){t(e,n)}}),r=DIV({style:{padding:5,backgroundColor:"#FFF"},c:[DIV({style:{position:"relative"},c:[SPAN({style:{visibility:"hidden"},c:["."]}),u=UUI.TEXT_BUTTON({style:O,title:C}),d=INPUT({style:{position:"absolute",left:0,top:0,width:"100%",border:"none",background:"transparent"},name:A,type:E,value:h,on:{change:function(t){a(),void 0!==T&&void 0!==T.change&&T.change(t,n)},keydown:function(t){i=DELAY(function(){a()}),void 0!==T&&void 0!==T.keydown&&T.keydown(t,n)},keyup:function(t){a(),void 0!==T&&void 0!==T.keyup&&T.keyup(t,n)}}})]})]}),a=RAR(function(){var t=d.getValue(),e=0,n=d.getStyle("fontSize"),o=void 0===n?12:INTEGER(n);"center"===d.getStyle("textAlign")?(u.addStyle({left:0,width:"100%",textAlign:"center"}),""===t?u.show():u.hide()):U===!0?(u.addStyle({left:0,width:"auto",textAlign:"left"}),""===t?u.show():u.hide()):(REPEAT(t.length,function(n){var o=t.charAt(n);e+=escape(o).length>4?1.8:1}),u.addStyle({left:e*o/1.6+(e>0?5:0),width:"auto",textAlign:"left"}))}),r.addRemoveHandler(function(){void 0!==i&&i.remove()}),r.isValidWrapper=!0,n.getInputDom=c=function(){return d},n.getDom=l=function(){return r},n.getName=f=function(){return A},n.getValue=s=function(){return d.getValue()},n.setValue=p=function(t){d.setValue(t)},n.select=v=function(){d.select()},n.focus=g=function(){d.focus()},n.blur=y=function(){d.blur()},n.addWrapperStyle=S=function(t){r.addStyle(t)},void 0!==D&&S(D),n.addInputStyle=m=function(t){d.addStyle(t),u.addStyle(t),u.addStyle(O)},void 0!==I&&m(I)}}),UUI.FULL_SELECT=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p,v,g=o.name,y=o.value,S=o.options,m=o.wrapperStyle,A=o.selectStyle,E=o.on;void 0!==E&&EACH(E,function(t,e){E[e]=function(e){t(e,n)}}),i=DIV({style:{padding:5,backgroundColor:"#FFF",position:"relative"},c:[r=SELECT({style:{width:"100%",border:"none"},on:E,name:g})]}),i.isValidWrapper=!0,n.getDom=d=function(){return i},n.getName=u=function(){return g},n.getValue=a=function(){return r.getValue()},n.setValue=c=function(t){r.setValue(t)},void 0!==y&&c(y),n.select=l=function(){r.select()},n.blur=f=function(){r.blur()},n.addWrapperStyle=s=function(t){i.addStyle(t)},void 0!==m&&s(m),n.addSelectStyle=p=function(t){r.addStyle(t)},void 0!==A&&p(A),n.addOption=v=function(t){r.append(t)},void 0!==S&&EACH(S,function(t){v(t)})}}),UUI.FULL_SUBMIT=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d=void 0===o?void 0:o.style,u=void 0===o?void 0:o.value,a=void 0===o?void 0:o.on;void 0!==a&&EACH(a,function(t,e){a[e]=function(e){t(e,n)}}),i=INPUT({type:"submit",style:COMBINE_DATA({origin:{border:"none",width:"100%",padding:"10px 0",cursor:"pointer"},extend:d}),on:a}),void 0!==u&&i.setValue(u),n.getDom=r=function(){return i}}}),UUI.FULL_TEXTAREA=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p,v,g,y=o.name,S=o.placeholder,m=o.value,A=o.wrapperStyle,E=o.textareaStyle,C=o.on;void 0!==C&&EACH(C,function(t,e){C[e]=function(e){t(e,n)}}),i=DIV({style:{padding:5,backgroundColor:"#FFF",position:"relative",height:100},c:[r=TEXTAREA({style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"none"},name:y,placeholder:S,on:C,value:m})]}),i.isValidWrapper=!0,n.getTextareaDom=d=function(){return r},n.getDom=u=function(){return i},n.getName=a=function(){return y},n.getValue=c=function(){return r.getValue()},n.setValue=l=function(t){r.setValue(t)},n.select=f=function(){r.select()},n.focus=s=function(){r.focus()},n.blur=p=function(){r.blur()},n.addWrapperStyle=v=function(t){i.addStyle(t)},void 0!==A&&v(A),n.addTextareaStyle=g=function(t){r.addStyle(t)},void 0!==E&&g(E)}}),UUI.FULL_UPLOAD_FORM=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p,v,g=o.wrapperStyle,y=o.formStyle,S=o.inputStyle,m=o.uploadingStyle,A=o.box,E=o.afterUpload,C=o.on;void 0!==C&&EACH(C,function(t,e){C[e]=function(e){t(e,n)}}),i=DIV({style:{padding:5,background:"#FFF",position:"relative"},c:[u=IFRAME({style:{display:"none"},name:"__UPLOAD_FORM_"+n.id}),r=FORM({action:"/"+A.boxName+"/__UPLOAD?"+CONFIG.version,target:"__UPLOAD_FORM_"+n.id,method:"POST",enctype:"multipart/form-data",style:{padding:5},c:[d=INPUT({type:"file",isMultiple:!0,style:{width:"100%",height:"100%",color:"#000",border:"none"},on:C}),INPUT({type:"submit",style:{visibility:"hidden",position:"absolute"}})]}),a=UUI.PANEL({wrapperStyle:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"none"},contentStyle:{backgroundColor:"#000",position:"absolute",top:"50%",left:"50%",width:100,marginLeft:-55,marginTop:-13,padding:5,textAlign:"center",borderRadius:10},c:["Uploading..."]})]}),r.isValidWrapper=!0,EVENT({node:u,name:"load"},function(){var t=global["__UPLOAD_FORM_"+n.id],e=void 0!==t?t.fileDataSet:void 0,o=void 0!==t?t.errorCode:void 0;(void 0!==e||void 0!==o)&&(EACH(e,function(t,n){e[n]=UNPACK_DATA(t)}),d.setValue(""),E(e,o)),a.hide()}),EVENT({node:d,name:"change"},function(){""!==d.getValue()&&(a.show(),r.submit(!0))}),n.getDom=c=function(){return i},n.select=l=function(){d.select()},n.addWrapperStyle=f=function(t){i.addStyle(t)},void 0!==g&&f(g),n.addFormStyle=s=function(t){r.addStyle(t)},void 0!==y&&s(y),n.addInputStyle=p=function(t){d.addStyle(t)},void 0!==S&&p(S),n.addUploadingStyle=v=function(t){a.addWrapperStyle(t)},void 0!==m&&v(m)}}),UUI.IMG_BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a=o.img,c=o.href,l=o.target,f=o.style,s=o.on;void 0!==s&&EACH(s,function(t,e){s[e]=function(e){t(e,n)}}),i=A({style:COMBINE_DATA({origin:{cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},extend:f}),href:c,target:l,on:s,c:[a]}),n.getImg=r=function(){return a},n.getDom=d=function(){return i},n.tap=u=function(){i.tap()}}}),UUI.LIST=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s=void 0===o?void 0:o.style,p=void 0===o?void 0:o.c,v=void 0===o?void 0:o.isRequiringClearBoth,g=[],y={};void 0===r&&(r={}),i=UL({style:s,c:p}),n.getDom=u=function(){return i},n.addItem=a=function(t){var e=t.key,n=t.item,o=t.isFirst;void 0!==r[e]?(n.insertBefore(r[e]),g[FIND_KEY({data:g,value:r[e]})]=n,r[e].remove()):o===!0&&g.length>0?(n.insertBefore(g[0]),g.unshift(n)):(i.append(n),g.push(n)),r[e]=n,v===!0&&(void 0!==d&&d.remove(),d=CLEAR_BOTH().appendTo(i))},void 0!==o&&void 0!==o.items&&EACH(o.items,function(t,e){a({key:e,item:t})}),n.removeItem=c=function(t){var e=r[t],n=y[t];void 0!==e&&e.remove(),void 0!==n&&EACH(n,function(t){t()}),REMOVE({data:g,value:e}),REMOVE_AT({data:r,key:t}),REMOVE_AT({data:y,key:t})},n.addRemoveItemHandler=l=function(t,e){void 0===y[t]&&(y[t]=[]),y[t].push(e)},n.removeAllItems=f=function(){EACH(r,function(t,e){var n=y[e];t.remove(),void 0!==n&&EACH(n,function(t){t()})}),r={},g=[],y={}}}}),UUI.LOADING=CLASS({init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p,v,g=o.wrapperStyle,y=o.contentStyle,S=o.indicator,m=o.msg;i=UUI.MODAL({wrapperStyle:COMBINE_DATA({origin:{textAlign:"center"},extend:g}),contentStyle:y,isCannotClose:!0,c:[void 0===S?"":S,P({style:void 0===S?{}:{marginTop:10},c:[m]})]}),n.getDom=r=function(){return i.getDom()},n.append=d=function(t){i.append(t)},n.prepend=u=function(t){i.prepend(t)},n.after=a=function(t){i.after(t)},n.before=c=function(t){i.before(t)},n.remove=l=function(){i.remove()},n.empty=f=function(){i.empty()},n.getChildren=s=function(){return i.getChildren()},n.addWrapperStyle=p=function(t){i.addWrapperStyle(t)},n.addContentStyle=v=function(t){i.addContentStyle(t)}}}),UUI.MODAL=CLASS({init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p,v,g,y,S,m,A,E,C=void 0===o?void 0:void 0===o.c||CHECK_IS_ARRAY(o.c)===!0?o.c:[o.c],h=void 0===o?void 0:o.wrapperStyle,D=void 0===o?void 0:o.contentStyle,I=void 0===o?void 0:o.xStyle,T=void 0===o?void 0:o.xImg,U=void 0===o?void 0:o.isCannotClose,O=void 0===o?void 0:o.on;void 0===T&&U!==!0&&(T=IMG({src:UUI.R("x.png")})),i=DIV({c:[r=DIV(),U===!0?"":UUI.IMG_BUTTON({style:COMBINE_DATA({origin:{position:"absolute"},extend:void 0===I?{top:-20,right:-20,padding:10}:I}),img:T,on:{tap:function(){E()},mouseover:function(){m({opacity:.8})},mouseout:function(){m({opacity:1})}}})]}).appendTo(BODY),c=RAR(function(){var t,e=(WIN_WIDTH()-i.getWidth())/2+SCROLL_LEFT(),n=(WIN_HEIGHT()-i.getHeight())/2+SCROLL_TOP();i.addStyle({position:"absolute",left:0>e?0:e,top:0>n?0:n}),(t=function(e){EACH(e,function(e){e.type===IMG&&EVENT({node:e,name:"load"},function(){c()}),void 0!==e.getChildren&&t(e.getChildren())})})(i.getChildren())}),i.addShowHandler(c),d=EVENT({name:"resize"},c),u=EVENT({name:"scroll"},c),a=EVENT({name:"keydown"},function(t){27===t.getKeyCode()&&U!==!0&&E()}),i.addRemoveHandler(function(){d.remove(),u.remove(),a.remove()}),n.getDom=l=function(){return i},n.append=f=function(t){r.append(t),c()},void 0!==C&&EACH(C,function(t){f(t)}),n.prepend=s=function(t){r.prepend(t),c()},n.after=p=function(t){i.after(t),c()},n.before=v=function(t){i.before(t),c()},n.remove=g=function(){i.remove()},n.empty=y=function(){r.empty()},n.getChildren=S=function(){return r.getChildren()},n.addWrapperStyle=m=function(t){i.addStyle(t),c()},void 0!==h&&m(h),n.addContentStyle=A=function(t){r.addStyle(t),c()},void 0!==D&&A(D),n.close=E=function(){void 0!==O&&void 0!==O.close?O.close(n)!==!1&&g():g()}}}),UUI.NOTICE=CLASS({init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p,v,g=o.wrapperStyle,y=o.contentStyle,S=o.isCannotClose,m=o.on,A=o.msg;i=UUI.MODAL({wrapperStyle:COMBINE_DATA({origin:{textAlign:"center"},extend:g}),contentStyle:y,isCannotClose:!0,on:m,c:[A]}),n.getDom=r=function(){return i.getDom()},n.append=d=function(t){i.append(t)},n.prepend=u=function(t){i.prepend(t)},n.after=a=function(t){i.after(t)},n.before=c=function(t){i.before(t)},n.remove=l=function(){i.remove()},n.empty=f=function(){i.empty()},n.getChildren=s=function(){return i.getChildren()},n.addWrapperStyle=p=function(t){i.addWrapperStyle(t)},n.addContentStyle=v=function(t){i.addContentStyle(t)},S!==!0&&DELAY(2,function(){i.close()})}}),UUI.PANEL=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p=void 0===o?void 0:void 0===o.c||CHECK_IS_ARRAY(o.c)===!0?o.c:[o.c],v=void 0===o?void 0:o.wrapperStyle,g=void 0===o?void 0:o.contentStyle;i=DIV({c:[r=DIV()]}),n.getDom=d=function(){return i},n.append=u=function(t){r.append(t)},void 0!==p&&EACH(p,function(t){u(t)}),n.prepend=a=function(t){r.prepend(t)},n.empty=c=function(){r.empty()},n.getChildren=l=function(){return r.getChildren()},n.addWrapperStyle=f=function(t){i.addStyle(t)},void 0!==v&&f(v),n.addContentStyle=s=function(t){r.addStyle(t)},void 0!==g&&s(g)}}),UUI.TABLE=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l=void 0===o?void 0:o.style,f=void 0===o?void 0:void 0===o.c||CHECK_IS_ARRAY(o.c)===!0?o.c:[o.c],s=void 0===o?void 0:o.trs,p=[],v={};void 0===s&&(s={}),i=TABLE({style:l,chlidren:f}),n.getDom=r=function(){return i},n.addTR=d=function(t){var e=t.key,n=t.tr,o=t.isFirst;void 0!==s[e]?(n.insertBefore(s[e]),p[FIND_KEY({data:p,value:s[e]})]=n,s[e].remove()):o===!0&&p.length>0?(n.insertBefore(p[0]),p.unshift(n)):(i.append(n),p.push(n)),s[e]=n},EACH(s,function(t){p.push(t),i.append(t)}),n.removeTR=u=function(t){var e=s[t],n=v[t];void 0!==e&&e.remove(),void 0!==n&&EACH(n,function(t){t()}),REMOVE({data:p,value:e}),REMOVE_AT({data:s,key:t}),REMOVE_AT({data:v,key:t})},n.addRemoveTRHandler=a=function(t,e){void 0===v[t]&&(v[t]=[]),v[t].push(e)},n.removeAllTRs=c=function(){EACH(s,function(t,e){var n=v[e];t.remove(),void 0!==n&&EACH(n,function(t){t()})}),s={},p=[],v={}}}}),UUI.TEXT_BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c=o.title,l=o.href,f=o.target,s=o.style,p=o.on;void 0!==p&&EACH(p,function(t,e){p[e]=function(e){t(e,n)}}),i=A({style:COMBINE_DATA({origin:{cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},extend:s}),href:l,target:f,on:p,c:[r=SPAN({c:[void 0===c?void 0===l?"":l:c]})]}),n.setTitle=d=function(t){r.empty(),r.append(t)},n.getDom=u=function(){return i},n.tap=a=function(){i.tap()}}}),UUI.VALID_FORM=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f=void 0===o?void 0:o.errorMsgs,s=void 0===o?void 0:o.on,p=void 0===o?void 0:void 0===o.c||CHECK_IS_ARRAY(o.c)===!0?o.c:[o.c],v=void 0===o?void 0:o.style,g=void 0===o?void 0:o.errorMsgStyle,y=[];void 0!==s&&EACH(s,function(t,e){s[e]=function(e){t(e,n)}}),i=FORM({style:v,c:p,on:s}),i.addRemoveHandler(function(){EACH(y,function(t){t.remove()})}),n.getDom=r=function(){return i},n.getData=d=function(){return i.getData()},n.setData=u=function(t){return i.setData(t)},n.submit=a=function(){i.submit()},n.showErrors=c=function(t){var e=COPY_DATA(t),o=function(t){EACH(t.getChildren(),function(t){var n,i,r,d;void 0!==t.getValue&&void 0!==t.getName&&(n=t.getName(),i=e[n],void 0!==i&&void 0!==f&&(r=f[n][i.type],"function"==typeof r&&(r=r(void 0!==i.validParam?i.validParam:i.validParams)),(t.getParent().getParent().isValidWrapper===!0?t.getParent().getParent():t.getParent().isValidWrapper===!0?t.getParent():t).after(d=P({style:g,c:[r]})),REMOVE_AT({data:e,key:n}),y.push(DELAY(2,function(t){d.remove(),REMOVE({data:y,value:t})})))),o(t)})};o(n)},n.getErrorMsgs=l=function(t){var e=COPY_DATA(t),o=[],i=function(t){EACH(t.getChildren(),function(t){var n,r,d;void 0!==t.getValue&&void 0!==t.getName&&(n=t.getName(),r=e[n],void 0!==r&&void 0!==f&&(d=f[n][r.type],"function"==typeof d&&(d=d(void 0!==r.validParam?r.validParam:r.validParams)),o.push(d),REMOVE_AT({data:e,key:n}))),i(t)})};return i(n),o}}}),UUI.V_CENTER=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n,o){"use strict";var i,r,d,u,a,c,l,f,s,p=void 0===o?void 0:void 0===o.c||CHECK_IS_ARRAY(o.c)===!0?o.c:[o.c],v=void 0===o?void 0:o.wrapperStyle,g=void 0===o?void 0:o.contentStyle;i=TABLE({style:{width:"100%",margin:0,padding:0},c:[TR({style:{margin:0,padding:0},c:[r=TD({style:{margin:0,padding:0}})]})]}),n.getDom=d=function(){return i},n.append=u=function(t){r.append(t)},void 0!==p&&EACH(p,function(t){u(t)}),n.prepend=a=function(t){r.prepend(t)},n.empty=c=function(){r.empty()},n.getChildren=l=function(){return r.getChildren()},n.addWrapperStyle=f=function(t){i.addStyle(t)},void 0!==v&&f(v),n.addContentStyle=s=function(t){r.addStyle(t)},void 0!==g&&s(g)}});