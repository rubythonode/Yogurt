global.CONNECT_TO_WEB_SOCKET_SERVER=CONNECT_TO_WEB_SOCKET_SERVER=METHOD({run:function(o,n){"use strict";var E,t,c,_,e,i,C=void 0===o.host?global.location.hostname:C,a=o.port,O={};CHECK_IS_DATA(n)!==!0?E=n:(E=n.success,t=n.error),i=function(o,n){var E=O[o];void 0!==E&&EACH(E,function(o){o(n,function(){REMOVE({data:E,value:o})})})},c=new WebSocket("ws://"+C+":"+a),c.onopen=function(){_=!0,E(function(o,n){var E=O[o];void 0===E&&(E=O[o]=[]),E.push(n)},function(o){c.send(STRINGIFY(o))},function(){e=!0,c.close()})},c.onmessage=function(o){var n=PARSE_STR(o.data);void 0!==n&&i(n.methodName,n.data)},c.onclose=function(){e!==!0&&i("__DISCONNECTED")},c.onerror=function(o){_!==!0?(console.log("[UPPERCASE.IO-CONNECT_TO_WEB_SOCKET_SERVER] CONNECT TO WEB SOCKET SERVER FAILED:",o),void 0!==t&&t(o)):i("__ERROR",o)}}});